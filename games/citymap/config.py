# citymap/config.py (修复了行长度不一致问题)
import random

# 40x40 大型城市僵尸地图 (已新增 'T' 树木元素)
MAP_40X40 = """
########################################
#...T....T.............................#
#.####################################.#
#.#......T..........................T#.#
#.#.#########.###.#########.###.#####.##
#.#.#.......#.#.#.#.......#.#.#.#...#..#
#.#.#.#####.#.#.#.#.#####.#.#.#.#...#..#
#.#.#.#...#.#.#.#.#.#...#.#.#.#.#...#..#
#.#.#.#...#.#.#.#.#.#...#.#.#.#.#...#..#
#.#.###.###.#.###.###.###.#.###.#####.##
#.#....~.~.~.~.~.~.~.~.~.~.~....S.....##
#.#....~.#################.#.###.###.#.#
#.#....~.#................#.#.#.#...#..#
#.#.####.#.###.##########.#.#.#.#.S.#..#
#.#.#....#.#.#.#.........#.#.#.#####.#.#
#.#.#.##.#.#.#.#.######.S#.#.#.#.....#.#
#.#.##.#.#.#.#.#.#....#..#.#.#.#.###.#.#
#.#.##.#.#.###.###.####..#.#.###.###.#.#
#.#..#.#...............~.~.~.~.~.~...#.#
#.#..#.#.######.######.~.###########.#.#
#.#..#.#.#....#.#....#.~.#...........#.#
#.#..#.#.#....#.#....#.~.#.S.S.S.S.S.#.#
#.#..#.#.#.##.#.#.##.#.~.###########.#.#
#.#..#.#.######.######.~...T.........#.#
#.#..#.#...........##.~.~.~.~.~.~.~~.#.#
#.#..#.#.#####.####.#.##.###########.#.#
#.#..#.#.#...#.#...#.#..#.#..........#.#
#.#..#.#.#...#.#...#.#..#.#.###.####.#.#
#.#..#.#.#...#.#...#.#..#.#.#.#.#..#.#.#
#.#..#.#.#####.####.#..#.###.#.#..#..#.#
#.#..#.#.............#..#.....#.####.#.#
#.#.####.###.###.###.#.####.###..#...#.#
#.#.#....S.#.#.#.#.#.#.#....S....#...#.#
#.#.#.####.###.###.###.#.####.###.######
#.#.#..................#.#...........#.#
#.#.####################.#.###########.#
#.#......................#...........#.#
#.#..................T...............#.#
#...T................................#.#
########################################
""".strip()

# 地格符号定义
MAP_SYMBOLS = {
    '.': 'WALKABLE_ROAD',        # 可通行区
    '#': 'IMPASSABLE_WALL',      # 不可通行区/建筑 (游荡者/铁桶出生点)
    '~': 'RIVER_WATER',          # 河流/水域 (对游荡者/铁桶减速)
    'S': 'SEWER_EXIT',           # 下水道出口 (食尸鬼出生点)
    'T': 'WALKABLE_TREE_COVER'   # 新增：树木/遮蔽物 (可通行，但提供遮挡)
}

# 玩家可通行的地格
WALKABLE_TILES = ('.', 'S', 'T')

# 僵尸出生点规则
WANDERER_SPAWN_TILES = ('#',) 
BUCKET_SPAWN_TILES = ('#',)
GHOUL_SPAWN_TILES = ('S',)

# 对游荡者和铁桶有减速作用的地格
SLOW_TILES = ('~',)